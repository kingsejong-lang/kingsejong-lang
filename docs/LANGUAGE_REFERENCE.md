# KingSejong 언어 레퍼런스

> KingSejong 프로그래밍 언어의 완전한 문법 레퍼런스

**버전**: 1.0
**최종 업데이트**: 2025-11-10

---

## 목차

1. [기본 문법](#기본-문법)
2. [데이터 타입](#데이터-타입)
3. [변수와 상수](#변수와-상수)
4. [연산자](#연산자)
5. [제어 구조](#제어-구조)
6. [함수](#함수)
7. [배열](#배열)
8. [조사 표현식](#조사-표현식)
9. [모듈 시스템](#모듈-시스템)
10. [내장 함수](#내장-함수)
11. [표준 라이브러리](#표준-라이브러리)

---

## 기본 문법

### 주석

```ksj
# 한 줄 주석
출력("안녕")  # 라인 끝 주석
```

### 문장 종결

문장은 개행(줄바꿈)으로 구분됩니다. 세미콜론은 필요 없습니다.

```ksj
x = 10
y = 20
출력(x + y)
```

---

## 데이터 타입

KingSejong은 동적 타입 언어입니다.

### 1. 정수 (Integer)

```ksj
나이 = 25
점수 = 100
음수 = -42
```

### 2. 실수 (Float)

```ksj
파이 = 3.14
온도 = -5.5
가격 = 1000.0
```

### 3. 문자열 (String)

```ksj
이름 = "홍길동"
메시지 = "안녕하세요"
빈문자열 = ""
```

문자열 연결:
```ksj
인사 = "안녕" + "하세요"
출력("점수: " + 타입(95))
```

### 4. 불리언 (Boolean)

```ksj
참값 = 참
거짓값 = 거짓
```

진리값 판별:
- `거짓`, `0`, `0.0`, `""`, `없음` → 거짓
- 그 외 모든 값 → 참

### 5. 배열 (Array)

```ksj
숫자들 = [1, 2, 3, 4, 5]
혼합 = [1, "문자열", 참, [1, 2]]
빈배열 = []
```

### 6. 함수 (Function)

```ksj
더하기 = 함수(a, b) {
    반환 a + b
}
```

### 7. 없음 (Null)

```ksj
값 = 없음
```

---

## 변수와 상수

### 변수 선언

타입을 명시하거나 생략할 수 있습니다:

```ksj
# 타입 명시
정수 나이 = 25
실수 키 = 175.5
문자열 이름 = "홍길동"

# 타입 생략 (타입 추론)
점수 = 95
메시지 = "안녕"
```

### 변수 할당

```ksj
x = 10
x = 20  # 재할당
```

---

## 연산자

### 산술 연산자

```ksj
a = 10 + 5   # 덧셈: 15
b = 10 - 5   # 뺄셈: 5
c = 10 * 5   # 곱셈: 50
d = 10 / 5   # 나눗셈: 2
e = 10 % 3   # 나머지: 1
```

### 비교 연산자

```ksj
x == y   # 같음
x != y   # 다름
x < y    # 작음
x > y    # 큼
x <= y   # 작거나 같음
x >= y   # 크거나 같음
```

### 논리 연산자

```ksj
a && b   # 논리 AND
a || b   # 논리 OR
!a       # 논리 NOT
```

### 단항 연산자

```ksj
-x       # 부호 반전
!값      # 논리 부정
```

---

## 제어 구조

### 조건문 (만약)

```ksj
만약 (점수 >= 90) {
    출력("A 학점")
} 아니면 만약 (점수 >= 80) {
    출력("B 학점")
} 아니면 {
    출력("C 학점")
}
```

### N번 반복

```ksj
# 리터럴 사용
10번 반복한다 {
    출력("반복")
}

# 변수 사용
횟수 = 5
횟수번 반복한다 {
    출력("실행")
}
```

### 범위 반복

```ksj
# 1부터 10까지
i가 1부터 10까지 {
    출력(i)
}

# 0부터 5 미만
i가 0부터 5 미만 {
    출력(i)
}

# 1 초과 10 이하
i가 1 초과 10 이하 {
    출력(i)
}

# 변수 사용
시작 = 1
끝 = 100
i가 시작부터 끝까지 {
    출력(i)
}
```

---

## 함수

### 함수 정의

```ksj
# 기본 형태
더하기 = 함수(a, b) {
    반환 a + b
}

# 매개변수 없음
인사 = 함수() {
    출력("안녕하세요")
}

# 반환값 없음
로그 = 함수(메시지) {
    출력("[LOG] " + 메시지)
}
```

### 함수 호출

```ksj
결과 = 더하기(10, 20)
출력(결과)  # 30

인사()  # "안녕하세요"
```

### 클로저

함수는 외부 변수를 캡처할 수 있습니다:

```ksj
카운터_생성 = 함수() {
    개수 = 0
    반환 함수() {
        개수 = 개수 + 1
        반환 개수
    }
}

카운터 = 카운터_생성()
출력(카운터())  # 1
출력(카운터())  # 2
출력(카운터())  # 3
```

### 재귀 함수

```ksj
팩토리얼 = 함수(n) {
    만약 (n <= 1) {
        반환 1
    }
    반환 n * 팩토리얼(n - 1)
}

출력(팩토리얼(5))  # 120
```

### 고차 함수

함수를 인자로 받거나 반환할 수 있습니다:

```ksj
적용 = 함수(함수, 값) {
    반환 함수(값)
}

제곱 = 함수(x) { 반환 x * x }

출력(적용(제곱, 5))  # 25
```

---

## 배열

### 배열 생성

```ksj
숫자들 = [1, 2, 3, 4, 5]
혼합 = [1, "문자", 참]
빈배열 = []
```

### 인덱싱

```ksj
arr = [10, 20, 30, 40]
첫번째 = arr[0]     # 10
두번째 = arr[1]     # 20
마지막 = arr[3]     # 40
```

### 슬라이싱

```ksj
arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# 범위 추출
일부 = arr[2부터 5까지]    # [3, 4, 5]
시작부터 = arr[0부터 3까지]  # [1, 2, 3]
```

### 배열 메서드 (조사 기반)

#### 정렬한다

```ksj
숫자들 = [3, 1, 4, 1, 5, 9]
정렬된 = 숫자들을 정렬한다
출력(정렬된)  # [1, 1, 3, 4, 5, 9]
```

#### 역순으로_나열한다

```ksj
원본 = [1, 2, 3, 4, 5]
역순 = 원본을 역순으로_나열한다
출력(역순)  # [5, 4, 3, 2, 1]
```

#### 걸러낸다 (filter)

```ksj
숫자들 = [1, 2, 3, 4, 5, 6]
짝수 = 숫자들을 걸러낸다(함수(x) {
    반환 x % 2 == 0
})
출력(짝수)  # [2, 4, 6]
```

#### 변환한다 (map)

```ksj
숫자들 = [1, 2, 3, 4, 5]
제곱들 = 숫자들을 변환한다(함수(x) {
    반환 x * x
})
출력(제곱들)  # [1, 4, 9, 16, 25]
```

#### 축약한다 (reduce)

```ksj
숫자들 = [1, 2, 3, 4, 5]
합계 = 숫자들을 축약한다(0, 함수(누적, 현재) {
    반환 누적 + 현재
})
출력(합계)  # 15
```

#### 찾다 (find)

```ksj
숫자들 = [3, 5, 7, 12, 15]
큰수 = 숫자들을 찾다(함수(x) {
    반환 x > 10
})
출력(큰수)  # 12
```

### 메서드 체이닝

```ksj
결과 = [1, 2, 3, 4, 5, 6]
    을 걸러낸다(함수(x) { 반환 x % 2 == 0 })
    을 변환한다(함수(x) { 반환 x * x })

출력(결과)  # [4, 16, 36]
```

---

## 조사 표현식

KingSejong의 핵심 차별화 기능입니다.

### 지원하는 조사

- `을/를` - 목적격
- `이/가` - 주격
- `은/는` - 보조사
- `의` - 소유격
- `로/으로` - 방향
- `에서` - 처소
- `에` - 위치

### 받침 규칙

조사는 받침 유무에 따라 자동 선택됩니다:

```ksj
# 받침 있음 → 을/이/은/으로
배열을 정렬한다
숫자가 크다
값은 10

# 받침 없음 → 를/가/는/로
데이터를 처리한다
파일이 크다
값는 10
```

### ㄹ받침 특수 규칙

`로/으로` 조사는 ㄹ받침에 특별 처리:

```ksj
파일로 저장한다     # ㄹ받침 → 로
폴더로 이동한다     # ㄹ아님 → 로
값으로 설정한다     # 받침(ㅂ) → 으로
```

---

## 모듈 시스템

### 모듈 가져오기

```ksj
가져오기 "stdlib/math"
가져오기 "stdlib/string"
가져오기 "stdlib/array"
```

### 사용자 정의 모듈

**mymodule.ksj**:
```ksj
# 함수 정의
더하기 = 함수(a, b) {
    반환 a + b
}

곱하기 = 함수(a, b) {
    반환 a * b
}

상수 = 42
```

**main.ksj**:
```ksj
가져오기 "mymodule"

출력(더하기(10, 20))  # 30
출력(곱하기(5, 6))    # 30
출력(상수)            # 42
```

### 모듈 경로 해석

- 상대 경로: `가져오기 "mymodule"` → `./mymodule.ksj`
- stdlib: `가져오기 "stdlib/math"` → `./stdlib/math.ksj`

---

## 내장 함수

### 출력(값)

값을 출력합니다:

```ksj
출력("안녕하세요")
출력(42)
출력([1, 2, 3])
```

### 타입(값)

값의 타입을 문자열로 반환합니다:

```ksj
출력(타입(42))        # "정수"
출력(타입(3.14))      # "실수"
출력(타입("안녕"))    # "문자열"
출력(타입(참))        # "불린"
출력(타입([1, 2]))    # "배열"
```

### 길이(배열/문자열)

배열이나 문자열의 길이를 반환합니다:

```ksj
출력(길이([1, 2, 3, 4, 5]))  # 5
출력(길이("안녕하세요"))      # 5
```

---

## 표준 라이브러리

### math 모듈

수학 함수 라이브러리 (18개 함수):

```ksj
가져오기 "stdlib/math"

출력(절댓값(-10))           # 10
출력(거듭제곱(2, 10))       # 1024
출력(제곱근(16))            # 4.0
출력(계승(5))               # 120
출력(최대공약수(12, 18))    # 6
출력(소수인가(17))          # 참
```

**주요 함수:**
- `절댓값(x)` - 절댓값
- `최댓값(a, b)`, `최솟값(a, b)` - 두 수 비교
- `배열_최댓값(arr)`, `배열_최솟값(arr)` - 배열 최댓/최솟값
- `합계(arr)`, `평균(arr)` - 배열 통계
- `거듭제곱(밑, 지수)` - 거듭제곱
- `계승(n)` - 팩토리얼
- `최대공약수(a, b)`, `최소공배수(a, b)` - GCD, LCM
- `제곱근(n)` - 제곱근 근사
- `소수인가(n)` - 소수 판별
- `제한(값, 최소, 최대)` - Clamp

**상수:**
- `파이` - π ≈ 3.14159...
- `자연상수` - e ≈ 2.71828...

### string 모듈

문자열 처리 라이브러리 (9개 함수):

```ksj
가져오기 "stdlib/string"

출력(반복("*", 10))         # "**********"
출력(결합([1, 2, 3], ", "))  # "1, 2, 3"
출력(줄_만들기(20, "="))    # "===================="
```

**주요 함수:**
- `반복(문자열, 횟수)` - 문자열 반복
- `결합(배열, 구분자)` - 배열 → 문자열
- `비어있는가(문자열)` - 빈 문자열 확인
- `같은가(문자열1, 문자열2)` - 문자열 비교
- `왼쪽_채우기(문자열, 길이)` - 왼쪽 패딩
- `오른쪽_채우기(문자열, 길이)` - 오른쪽 패딩
- `문자로_채우기(문자, 길이)` - 문자 반복
- `줄_만들기(길이, 문자)` - 선 그리기
- `제목_형식(텍스트, 길이)` - 제목 형식

### array 모듈

배열 유틸리티 라이브러리 (18개 함수):

```ksj
가져오기 "stdlib/array"

출력(범위(1, 10))           # [1, 2, 3, ..., 10]
출력(중복_제거([1, 2, 2, 3]))  # [1, 2, 3]
출력(쌍으로_묶기([1, 2], ["a", "b"]))  # [[1, "a"], [2, "b"]]
```

**주요 함수:**
- `범위(시작, 끝)` - 범위 배열 생성
- `중복_제거(배열)` - 중복 제거
- `채우기(값, 개수)` - 특정 값으로 채우기
- `연결(배열1, 배열2)` - 배열 연결
- `자르기(배열, 시작, 끝)` - 슬라이싱
- `포함하는가(배열, 값)` - 값 포함 여부
- `찾기(배열, 값)` - 인덱스 찾기
- `모두(배열, 함수)` - 모든 요소 확인 (every)
- `일부(배열, 함수)` - 일부 요소 확인 (some)
- `그룹_나누기(배열, 크기)` - 배열 그룹화 (chunk)
- `처음(배열, n)`, `마지막(배열, n)` - 일부 추출
- `쌍으로_묶기(배열1, 배열2)` - Zip

---

## 예제 코드

### Hello World

```ksj
출력("안녕, KingSejong!")
```

### 피보나치 수열

```ksj
피보나치 = 함수(n) {
    만약 (n <= 1) {
        반환 n
    }
    반환 피보나치(n - 1) + 피보나치(n - 2)
}

i가 0부터 10까지 {
    출력(피보나치(i))
}
```

### 소수 찾기 (표준 라이브러리 활용)

```ksj
가져오기 "stdlib/math"
가져오기 "stdlib/array"

# 1부터 50까지 소수 찾기
숫자들 = 범위(1, 50)
소수들 = 숫자들을 걸러낸다(소수인가)
출력(소수들)
```

### 배열 처리 파이프라인

```ksj
# 짝수만 걸러내고 제곱한 뒤 합계
숫자들 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

짝수 = 숫자들을 걸러낸다(함수(x) { 반환 x % 2 == 0 })
제곱 = 짝수를 변환한다(함수(x) { 반환 x * x })
합계 = 제곱을 축약한다(0, 함수(누적, 현재) { 반환 누적 + 현재 })

출력(합계)  # 220
```

---

## 참고 자료

- [초보자용 튜토리얼](TUTORIAL.md)
- [표준 라이브러리 가이드](../stdlib/README.md)
- [예제 프로그램](../examples/)
- [프로젝트 README](../README.md)

---

**KingSejong 언어** - 한글로 프로그래밍하는 즐거움
© 2025 KingSejong Team
