# Phase 5 로드맵: 개발자 경험 & 생태계 구축

> **기간**: 2025 Q1-Q2 (6개월)
> **시작일**: 2025-11-11
> **목표**: 개발자 도구, 생태계 구축, 언어 기능 강화

---

## 📊 현재 상태 (2025-11-14)

### 완료된 작업 ✅
- ✅ **F5.NEW 에러 메시지 개선** - 100% 한글화, 위치 표시, 힌트 제공 (v0.3.1)
- ✅ **F5.3 LSP** - VS Code 통합 완료 (기본 + 고급 기능) (v0.3.0, v0.3.2)
- ✅ **F5.NEW 표준 라이브러리** - 101개+ 함수 달성 (io, json, time 모듈 완료)

### 진행 중 🚧
- 🚧 **F5.2 디버거** - 거의 완료 (95%)
  - ✅ 조건부 브레이크포인트
  - ✅ 와치포인트
  - ✅ CommandParser (44개 테스트)
  - ✅ 단계별 실행 (step, next, continue)
  - ✅ SourceCodeViewer (소스 코드 표시)
  - ❌ 디버거 REPL 통합 (남은 작업)

### 테스트 현황
- **전체**: 969개 테스트 (962개 통과, 99.2%)
- **디버거**: 160/160 ✅
  - BreakpointManager: 19/19 ✅
  - CallStack: 18/18 ✅
  - Debugger: 30/30 ✅
  - WatchpointManager: 22/22 ✅
  - CommandParser: 44/44 ✅
  - SourceCodeViewer: 27/27 ✅
- **LSP**: 130/130 ✅
- **에러 메시지**: 7/7 ✅
- **표준 라이브러리**: io(16), json(15), time(19) = 50개 ✅

---

## 🎯 남은 작업

### 1. F5.2 디버거 완성 ⭐⭐⭐ (CRITICAL)

**현재 상태**: 🚧 95% 완료
**예상 기간**: 1-2일 (REPL 통합만 남음)

#### F5.2.1: 기본 디버거 구현
- [x] CommandParser (명령어 인터페이스) ✅
  - break, delete, run, continue, step, next
  - print, backtrace, list, quit
  - 44개 테스트 전체 통과
- [x] 단계별 실행 (step, next, continue) ✅
  - DebuggerState 관리
  - step(), next(), continueExecution(), pause()
  - shouldPause() 로직
- [ ] 변수 검사 (print 명령어) - CommandParser 완료, 실행만 남음
- [ ] 디버거 REPL 통합 - 마지막 단계

#### F5.2.2: 고급 기능
- [x] 조건부 브레이크포인트 ✅
- [x] 와치포인트 (변수 변경 감지) ✅
- [x] 소스 코드 표시 (list 명령어) ✅
  - SourceCodeViewer 구현 완료
  - 27개 테스트 전체 통과

**완료 조건**:
- [x] 기본 명령어 파싱 ✅
- [x] 160개+ 디버거 테스트 통과 ✅
- [ ] 디버거 REPL 통합
- [ ] 사용자 가이드 작성

---

### 2. F5.4 온라인 플레이그라운드 ⭐⭐ (HIGH)

**예상 기간**: 3주

#### F5.4.1: WebAssembly 빌드
- [ ] Emscripten 빌드 설정
- [ ] WASM 모듈 생성
- [ ] JavaScript API 바인딩
- [ ] 브라우저에서 실행 테스트

#### F5.4.2: 웹 인터페이스
- [ ] Monaco Editor 통합 (구문 강조)
- [ ] 실행 버튼 및 출력 창
- [ ] 예제 갤러리 (21개 예제)
- [ ] 공유 기능 (URL 인코딩)
- [ ] GitHub Pages 배포

**완료 조건**:
- [ ] 웹 인터페이스 완성
- [ ] 모든 예제 동작
- [ ] 배포 완료

---

### 3. F5.NEW 표준 라이브러리 확장 ⭐⭐ (HIGH)

**현재 상태**: 🚧 진행중 (101개+ 함수, 목표 달성)
**예상 기간**: 2주 (선택 모듈)

#### 완료된 모듈 ✅
- [x] stdlib/math.ksj - 수학 함수
- [x] stdlib/string.ksj - 문자열 처리
- [x] stdlib/array.ksj - 배열 처리
- [x] stdlib/io.ksj - 파일 I/O (25개 함수)
- [x] stdlib/json.ksj - JSON 처리 (17개 함수)
- [x] stdlib/time.ksj - 날짜/시간 (14개 함수)

#### 선택 모듈 (추가 기능)
- [ ] stdlib/http.ksj - HTTP 클라이언트 (10개 함수)
  - GET(), POST(), PUT(), DELETE()
  - 헤더_설정(), 쿼리_설정()
- [ ] stdlib/regex.ksj - 정규표현식 (7개 함수)
  - 정규식_매칭(), 정규식_찾기(), 정규식_치환()

**완료 조건**:
- [x] 100개+ 함수 달성 ✅ (101개+)
- [ ] HTTP/Regex 모듈 (선택)
- [ ] 표준 라이브러리 통합 레퍼런스

---

### 4. F5.5 패턴 매칭 ⭐ (MEDIUM)

**예상 기간**: 3주

#### F5.5.1: 기본 패턴 매칭
- [ ] MatchExpression AST 노드
- [ ] 패턴 매칭 Parser
- [ ] 패턴 매칭 Evaluator
- [ ] 리터럴 매칭, 와일드카드, 가드 조건

#### F5.5.2: 고급 패턴 매칭
- [ ] 배열 분해 (Array Destructuring)
- [ ] 타입 매칭
- [ ] 범위 매칭

**문법 예시**:
```ksj
결과 = 값에 대해 {
    1 -> "하나"
    2 -> "둘"
    [첫번째, 나머지...] -> 첫번째
    _ -> "기타"
}
```

---

### 5. F5.6 비동기 프로그래밍 (선택) ⭐ (LOW)

**예상 기간**: 4주

- [ ] Promise Value 타입
- [ ] then/catch 메서드
- [ ] async 함수
- [ ] 시제 기반 비동기 연구

---

### 6. F5.1 템플릿 JIT 프로토타입 (선택) ⭐ (LOW)

**예상 기간**: 1-2주
**조건**: F5.2, F5.4 완료 후

- [ ] 간단한 바이트코드 → 네이티브 코드 매핑
- [ ] 기본 레지스터 할당
- [ ] 산술 연산만 지원 (ADD, SUB, MUL, DIV)
- [ ] x86-64만 지원

**Note**: Tier 2, 3 (LLVM 통합)는 v0.4.0 이후로 연기

---

## 📅 우선순위 작업 순서

### 즉시 착수 (Week 1-2)
1. **F5.2.1 디버거 기본 구현** (CRITICAL)
   - CommandParser
   - 단계별 실행
   - REPL 통합

### 다음 단계 (Week 3-5)
2. **F5.4 온라인 플레이그라운드** (HIGH)
   - WebAssembly 빌드
   - 웹 인터페이스

### 후속 작업 (Week 6+)
3. **F5.5 패턴 매칭** (MEDIUM)
4. **F5.6 비동기** (LOW, 선택)
5. **F5.1 JIT** (LOW, 선택)

---

## 🎯 Phase 5 완료 조건

### 필수 (CRITICAL + HIGH)
- [ ] ✅ F5.NEW 에러 메시지 (완료)
- [ ] ✅ F5.3 LSP (완료)
- [ ] F5.2 디버거 완성
- [ ] F5.4 온라인 플레이그라운드
- [ ] ✅ F5.NEW 표준 라이브러리 100개+ (완료)

### 선택 (MEDIUM + LOW)
- [ ] F5.5 패턴 매칭
- [ ] F5.6 비동기 프로그래밍
- [ ] F5.1 템플릿 JIT

### 테스트 목표
- [ ] 900개+ 테스트 통과
- [ ] 디버거 테스트 30개+
- [ ] 플레이그라운드 통합 테스트

### 문서화 목표
- [ ] 디버거 사용 가이드
- [ ] 플레이그라운드 튜토리얼
- [ ] 표준 라이브러리 통합 레퍼런스
- [ ] 예제 프로그램 50개+

---

## 📊 Progress Tracker

```
Phase 5 진행률: 70% (3.5/5 필수 완료)

✅ F5.NEW 에러 메시지     [██████████] 100%
✅ F5.3 LSP               [██████████] 100%
✅ F5.NEW 표준 라이브러리  [██████████] 100% (101개+)
🚧 F5.2 디버거            [█████████░]  95% (REPL 통합만 남음)
📝 F5.4 플레이그라운드     [░░░░░░░░░░]   0%
📝 F5.5 패턴 매칭         [░░░░░░░░░░]   0%

전체 테스트: 969개 (962개 통과, 99.2%)
디버거 테스트: 160개 전체 통과 ✅
```

---

## 🚀 다음 작업

### 즉시 시작 (디버거 완성)
1. **디버거 REPL 통합** - 대화형 디버깅 경험
   - CommandParser와 Debugger 연결
   - 명령어 실행 루프
   - 상태 표시

### 완료 시 다음 (플레이그라운드)
2. **WebAssembly 빌드** - 온라인 플레이그라운드 준비
3. **웹 인터페이스** - Monaco Editor 통합

---

**Phase 5 시작일**: 2025-11-11
**현재 날짜**: 2025-11-14
**필수 작업 완료**: 3.5/5 (70%)
**다음 릴리스**: v0.4.0

**최근 완료** (2025-11-14):
- ✅ CommandParser - 44개 테스트 전체 통과
- ✅ 단계별 실행 (step, next, continue) - 15개 새 테스트
- ✅ SourceCodeViewer - 27개 테스트 전체 통과

---

**Let's complete the developer experience! 🚀**
