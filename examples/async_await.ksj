// ============================================================================
// async/await 예제 (Phase 7.3)
// 비동기 프로그래밍 기능 데모
// ============================================================================

// ----------------------------------------------------------------------------
// 1. 기본 비동기 함수
// ----------------------------------------------------------------------------

// 비동기 함수 정의 (Promise 반환)
데이터_가져오기 = 비동기 함수() {
    반환 42
}

// await로 값 추출
결과 = 대기 데이터_가져오기()
출력("기본 비동기 함수 결과:")
출력(결과)

// ----------------------------------------------------------------------------
// 2. 매개변수가 있는 비동기 함수
// ----------------------------------------------------------------------------

덧셈 = 비동기 함수(a, b) {
    반환 a + b
}

곱셈 = 비동기 함수(x, y) {
    반환 x * y
}

합 = 대기 덧셈(10, 20)
곱 = 대기 곱셈(5, 6)
출력("덧셈 결과:")
출력(합)
출력("곱셈 결과:")
출력(곱)

// ----------------------------------------------------------------------------
// 3. Promise 체이닝 (.then / .그러면)
// ----------------------------------------------------------------------------

계산 = 비동기 함수() {
    반환 10
}

// .then으로 체이닝
체인_결과 = 계산().then(함수(값) {
    반환 값 * 2
}).then(함수(값) {
    반환 값 + 5
})

// Promise에서 값 추출
최종값 = 대기 체인_결과
출력("체이닝 결과 (10 * 2 + 5):")
출력(최종값)

// 한국어 메서드명 사용
한국어_체인 = 계산().그러면(함수(값) {
    반환 값 * 3
})
한국어_결과 = 대기 한국어_체인
출력("한국어 체이닝 결과:")
출력(한국어_결과)

// ----------------------------------------------------------------------------
// 4. 중첩 비동기 함수 호출
// ----------------------------------------------------------------------------

내부_작업 = 비동기 함수() {
    반환 100
}

외부_작업 = 비동기 함수() {
    값 = 대기 내부_작업()
    반환 값 * 2
}

중첩_결과 = 대기 외부_작업()
출력("중첩 비동기 결과:")
출력(중첩_결과)

// ----------------------------------------------------------------------------
// 5. 다양한 타입 반환
// ----------------------------------------------------------------------------

문자열_반환 = 비동기 함수() {
    반환 "안녕하세요, 비동기 세계!"
}

논리_반환 = 비동기 함수() {
    반환 참
}

배열_반환 = 비동기 함수() {
    반환 [1, 2, 3, 4, 5]
}

인사 = 대기 문자열_반환()
참거짓 = 대기 논리_반환()
숫자들 = 대기 배열_반환()

출력("문자열 반환:")
출력(인사)
출력("논리값 반환:")
출력(참거짓)
출력("배열 반환:")
출력(숫자들)

// ----------------------------------------------------------------------------
// 6. 팩토리얼 계산 (비동기)
// ----------------------------------------------------------------------------

팩토리얼 = 비동기 함수(n) {
    만약 n <= 1 {
        반환 1
    }
    이전 = 대기 팩토리얼(n - 1)
    반환 n * 이전
}

팩5 = 대기 팩토리얼(5)
출력("5! =")
출력(팩5)

// ----------------------------------------------------------------------------
// 7. 피보나치 (비동기)
// ----------------------------------------------------------------------------

피보나치 = 비동기 함수(n) {
    만약 n <= 1 {
        반환 n
    }
    a = 대기 피보나치(n - 1)
    b = 대기 피보나치(n - 2)
    반환 a + b
}

피보10 = 대기 피보나치(10)
출력("피보나치(10) =")
출력(피보10)

출력("모든 비동기 예제 완료!")
